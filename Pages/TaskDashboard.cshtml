@page
@model TaskModel
@{

    ViewData["Title"] = "Home page";

}

<body class="hold-transition sidebar-mini">
    <section class="col-lg-12 connectedSortable">

        @* <a href="https://api.whatsapp.com/send?phone=+919711008437&text=Hi">Send Message</a>
        *@
        <img src="https://bootdey.com/img/Content/avatar/avatar7.png" hidden alt="Admin" id="userImage" class="rounded-circle" width="150">
        <div class="card">
            <div class="card-header border-0" style="text-align: center;">
                <span style=" font-size: 22px;">Welcome User, Everything Is Ready For You</span>
                <button onclick="fillUser()" data-toggle="modal" data-target="#taskmodel" style="text-align: end;" type="button" class="btn btn-success">Create Task</button>
                <i id="otherDashboard" onclick="otherTaskDashboard()" data-toggle="modal" data-target="#otherDashboardModal" style="align-content:end ; display:none" class="fas fa-bars"></i>
            </div>

        </div>
    </section>
    <span id="typee" hidden></span>

    <section class="content">
        <div class="container-fluid">
            <!-- Info boxes -->
            <div class="row col-md-12 ">

                <section class=" col-md-6 direct-chat-msg right ">
                    <div class="card card-default">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <span style="font-family: Calibri; font-size: 22px;">Task For me </span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-sm-6 col-md-4" onclick="totaltask()">
                                    <div class="info-box " id="totaltaskDiv()" style="background-color: #17a2b8 ;color:white">

                                        <div class="col">
                                            <i class="fas fa-tasks" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri; ">  Total Task</span> &nbsp;&nbsp;&nbsp;
                                            <span id="allcounter" style="font-size: 22px; font-family: Calibri; "> 0</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6 col-md-4" onclick="onloadUser()">

                                    <div class="info-box bg-danger">
                                        <div class="col">
                                            <i class="fas fa-tasks" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri; ">  Daily Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="dailycounter" style="font-size: 22px; font-family: Calibri; ">0</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="clearfix hidden-md-up"></div>

                                <div class="col-12 col-sm-6 col-md-4" onclick="completedTask()">

                                    <div class="info-box bg-success">

                                        <div class="col">
                                            <i class="fas fa-calendar-check" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri; "> Completed Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="compltedcounter" style="font-size: 22px; font-family: Calibri; ">0</span>

                                        </div>
                                    </div>

                                </div>
                                <div class="col-12 col-sm-6 col-md-4" onclick="pendingTask()">

                                    <div class="info-box bg-warning">

                                        <div class="col">
                                            <i class="far fa-calendar-times" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri; "> Pending Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="pendingcounter" style="font-size: 22px; font-family: Calibri; ">0</span>

                                        </div>
                                    </div>
                                </div>
                               

                                <div class="col-12 col-sm-6 col-md-4" onclick="CloseRequestByMe()" hidden>
                                    <div class="info-box bg-danger">

                                        <div class="col">
                                            <i class="far fa-calendar-times"></i><br />
                                            <span style="color: white; font-family: Calibri; "> Close Task Request</span>&nbsp;&nbsp;&nbsp;
                                            <span id="closecounterByme" style="font-size:22px">0</span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </section>

                <section class=" col-md-6 direct-chat-msg right">
                    <div class="card card-default">
                        <div class="card-body">
                            <div class="row">
                                <div class="col">
                                    <span style="font-family: Calibri; font-size: 22px;"> Task Assigned  </span>

                                </div>
                            </div>
                            <div class="row">

                                <div class="col-12 col-sm-6 col-md-4" onclick="totaltaskByMe()">
                                    <div class="info-box" id="totaltaskDiv()" style="background-color: #17a2b8 ;color:white">
                                        <div class="col">
                                            <i class="fas fa-tasks" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri;"> Total Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="allcounterByme" style="font-size:22px">0</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- /.col -->
                                <div class="col-12 col-sm-6 col-md-4" onclick="DailyTaskByMe()">

                                    <div class="info-box bg-danger">
                                        <div class="col ">
                                            <i class="fas fa-tasks" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri; "> Daily Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="dailycounterByme" style="font-size:22px">0</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="clearfix hidden-md-up"></div>

                                <div class="col-12 col-sm-6 col-md-4" onclick="completedTaskBYMe()">

                                    <div class="info-box bg-success">
                                        <div class="col ">
                                            <i class="fas fa-tasks" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri; "> Completed Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="compltedcounterByme" style="font-size:22px">0</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- /.col -->
                                <div class="col-12 col-sm-6 col-md-4" onclick="pendingTaskByMe()">
                                    <div class="info-box bg-warning">
                                        <div class="col">
                                            <i class="far fa-calendar-times" style="font-size:20px"></i><br />
                                            <span style="color: white; font-family: Calibri; "> Pending Task</span>&nbsp;&nbsp;&nbsp;
                                            <span id="pendingcounterbyme" style="font-size:22px">0</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 col-sm-6 col-md-4" onclick="CloseRequestforMe()">
                                    <div class="info-box bg-danger">
                                        <div class="col ">
                                            <i class="far fa-calendar-times" style="font-size:20px"></i><br />
                                            <span style="font-family: Calibri;"> Close Task Request</span>&nbsp;&nbsp;&nbsp;
                                            <span id="closecounter" style="font-size: 22px; font-family: Calibri; ">0</span>
                                        </div>
                                    </div>
                                </div>


                                


                            </div>
                        </div>
                    </div>
                </section>

            </div>


            <div class="row-12">
                <div class="col-12">
                    <hr />
                    <div class="row">
                        <!-- Left col -->
                        <div class="col-md-12">

                            <div class="card ">
                                <div class="card-header border-transparent" id="headerColor">
                                    <div class="row">
                                        <a style="font-size:20px" onclick="goback()"><i class="fa fa-arrow-circle-left special"></i></a> &nbsp;&nbsp;
                                        <h3 class="card-title" id="title" style="color:white"></h3>
                                    </div>
                                    <ul class="navbar-nav ml-auto">
                                        <li class="nav-item" id="dailytask" style="display:none;width:250px">
                                            <div class="row">
                                                <a id="printbutton" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" style="color:black ;background-color:white;">
                                                    <input type="date" id="DailyDate" />
                                                </a>
                                                <a onclick="DailyPlanningReportview()" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm" style="color:black ;background-color:white;">
                                                    <i class="fas fa-bars" style="font-size:18px;padding:5px"></i>
                                                    &nbsp;&nbsp;
                                                    <span>View</span>
                                                </a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <div class="card-body p-0" id="taskdiv">
                                    <div class="table-responsive">
                                        <table id="taskDatatable" class="table table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; ">Sr.</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; " id="col1">Task Title</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; " id="col2">Starting Date</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; " id="col3">Deadline Date</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; " id="col4">Sending By</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; " id="col5">Status</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; ">Actions</th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>

                                </div>

                                <div class="card-body p-0" id="taskrequest" style="display:none">
                                    <div class="table-responsive">
                                        <table id="RequesttaskDatatable" class="table table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; ">Sr.</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; ">Sending By</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; ">Task Title</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; "> Message</th>
                                                    <th style="font-family: 'sans-serif'; font-weight: normal; ">Actions</th>

                                                </tr>
                                            </thead>
                                        </table>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="modal fade" id="taskdetailsModel" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:darkslategrey">
                    <h5 style="color:white;color:white">Task Details</h5>
                    <button type="button" data-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <span>Task Title</span><br />
                                <input readonly class="form-control" type="text" id="tasktitle" />
                                <input hidden class="form-control" type="text" id="taskid" />
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <span>Starting Date </span><br />
                                        <input readonly class="form-control" type="text" id="taskStartingDate" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <span>Deadline Date </span><br />
                                        <input readonly class="form-control" type="text" id="taskDeadlineDate" />
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <table class="table table-bordered table-hover" id="taskchatDatatable" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th hidden></th>
                                            </tr>
                                        </thead>
                                    </table>
                                    <div class="input-group">
                                        <i class="fa fa-smile-o" style="font-size:40px"></i>
                                        &nbsp;
                                        <i onclick="chatattchments()" data-toggle="modal" data-target="#attachments" class="fa fa-paperclip" style="font-size:40px"></i>
                                        <textarea data-emoji-input="unicode" type="text" class="form-control lead emoji-picker-container" multiple name="message" placeholder="Type Message ..." id="messageBox" onkeyup="enablebutton()"></textarea>
                                        <span class="input-group-append">
                                            <button id="sendbutton" disabled type="button" class="btn btn-success" onclick="sensMessageReceiver()">Send</button>
                                        </span>
                                    </div>
                                </div>



                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-danger btn-sm" style="color:white;display:none" onclick="CloseRequest()" id="closeRequest">  <i class="fas fa-print"></i> Close Request</a>
                    <a class="btn btn-danger btn-sm" style="color:white;display:none" id="AlreadyRequest">  <i class="fas fa-print"></i> Close Request Sent</a>
                    <a class="btn btn-danger btn-sm" style="color:white;display:none" onclick="RejectedTask()" id="taskrejected">  <i class="fas fa-print"></i> Rejected</a>
                  
                    <a class="btn btn-danger btn-sm" style="color:white;display:none" onclick="TaskClose()" id="taskclose">  <i class="fas fa-print"></i> Task Closed</a>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="taskmodel" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:darkslategrey">
                    <h5 style="color:white;color:white">Create Task </h5>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <span>Select Team Member</span><br />
                                <select class="form-control select2" id="username" style="width: 100%; height:30%"></select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="row">
                                <span class="col-md-12">Schedule Date</span>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <span>Starting Date </span><br />
                                        <input type="datetime-local" id="startingdate" class="form-control" />
                                        <input type="datetime-local" id="currentdate" hidden class="form-control" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <span>Deadline Date </span><br />
                                        <input type="datetime-local" id="endingdate" class="form-control" />
                                    </div>
                                </div>

                                <div class="col-md-12">
                                    <div class="form-group">
                                        <span>Task Title </span><br />
                                        <input class="form-control" type="text" id="taskTile" placeholder="Enter Title" />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <span>Task Description </span><br />
                                        <textarea style="height:100px" class="form-control" type="text" id="description" placeholder="Enter Task Description"></textarea>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <button onclick="sendattachmentsbutton()" data-toggle="modal" data-target="#attachments" type="button" class="btn btn-success fa fa-paperclip"> &nbsp; Attachments</button>
                                    <span id="attachmentsname"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" onclick="sendTask()" data-dismiss="modal">Send Task</button>
                </div>
            </div>
        </div>
    </div>

    <!--<div class="modal fade" id="attachmentsModel" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 65%;" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:darkslategrey">
                    <span style="color:white">Attachments</span>
                    <button style="color:white" type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="card">
                        <div class="card-body">
                            <div class="tab-content">

                                <div class="active tab-pane">
                                    <section class="content">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-md-10">
                                                                <div class="form-group">
                                                                    <span>File Location:</span> &nbsp;&nbsp;
                                                                    <form enctype="multipart/form-data">
                                                                        <input type="file" id="File" class="form-control" placeholder="File" multiple aria-label="File browser example">
                                                                    </form>-->
    @*<input id='browse' type='file' readonly class="form-control">*@
    <!--</div>
                                                            </div>

                                                            <div class="col-md-2">
                                                                <div class="form-group">
                                                                    <br />
                                                                    <button type="button" class="btn btn-success" onclick="uploadFile()">Upload</button>
                                                                </div>
                                                            </div>

                                                            <hr style="border-top: 3px solid #bbb;">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>-->

    <div class="modal fade" id="otherDashboardModal" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-md" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:darkslategrey">
                    <h5 style="color:white;color:white">Other Dashboard</h5>
                    <button type="button" data-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="row">

                        <div class="col-12">
                            <div class="card">
                                <div class="card-body">
                                    <table id="otherTaskDashboardTable" class="table table-bordered table-hover" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th style="font-family: 'sans-serif'; font-weight: normal; ">Sr.</th>
                                                <th style="font-family: 'sans-serif'; font-weight: normal; ">UserName</th>
                                                <th style="font-family: 'sans-serif'; font-weight: normal; ">Actions</th>

                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                                <!-- /.card-body -->
                            </div>

                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="attachments" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" style="max-width: 65%;" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background-color:darkslategrey">
                    <span style="color:white">Attachments</span>
                    <button style="color:white" type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="card">
                        <div class="card-body">
                            <div class="tab-content">

                                <div class="active tab-pane">
                                    <section class="content">
                                        <div class="container-fluid">
                                            <div class="row">
                                                <div class="col-12">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-md-10">
                                                                <div class="form-group">
                                                                    <span>File Location:</span> &nbsp;&nbsp;
                                                                    <form enctype="multipart/form-data">
                                                                        <input type="file" id="document_attachment_doc" onchange=" previewimage()" class="form-control" placeholder="File" multiple aria-label="File browser example">
                                                                    </form>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-12" style="height:400px; width:100%; border-radius:10px; background-color:silver">
                                                                <div class="form-group">
                                                                    <button style="border-radius:10px" id="x" onclick="closemodel()">
                                                                        X
                                                                    </button>
                                                                    <img id="blah" src="#" alt="your image" style="display: none; height: 400px; border-radius: 10px; width: 100%" />
                                                                </div>

                                                            </div>

                                                            <div class="col-md-2" style="display:none" id="sendattachmentsbuttton">
                                                                <div class="form-group" style="border-color:black">
                                                                    <br />
                                                                    <button type="button" class="btn btn-success fa fa-send-o" onclick="sendAttchments()">  Send </button>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-2" style="display:none" id="chatattachmentsbutton">
                                                                <div class="form-group">
                                                                    <br />
                                                                    <button type="button" class="btn btn-success" onclick="uploadFile()">Upload</button>
                                                                </div>
                                                            </div>

                                                            <hr style="border-top: 3px solid #bbb;">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </section>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../../plugins/select2/css/select2.min.css">
    <link rel="stylesheet" href="~/plugins/daterangepicker/daterangepicker.css">
    <link rel="stylesheet" href="~/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
    <link href="~/js/Plugin/jquery-customselect.css" rel="stylesheet" />


    @*<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />*@
    @section Scripts{

        <script src="~/js/Additems.js"></script>
        <script src="~/js/TaskDashbaord.js"></script>
        <script src="../../plugins/pdfmake/pdfmake.min.js"></script>
        <script src="../../plugins/pdfmake/vfs_fonts.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

        <script src="../../plugins/datatables/jquery.dataTables.min.js"></script>
        <script src="../../plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
        <script src="../../plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>

        <script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
        <script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>
        <link href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css " rel="stylesheet" type="text/css" />
        <link href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css" rel="stylesheet" type="text/css" />
        <script src="../plugins/select2/js/select2.full.min.js"></script>
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

        <link href="//cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
        <script src="https://code.jquery.com/ui/1.9.2/jquery-ui.min.js"></script>
        <script src="https://cdn.rawgit.com/mpryvkin/jquery-datatables-row-reordering/95b44786cb41cf37bd3ad39e39e1d216277bd727/media/js/jquery.dataTables.rowReordering.js"></script>

    }
    @*  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">*@

    <style>

        #x {
            position: absolute;
            background: red;
            color: white;
            top: -10px;
            right: -10px;
        }
    </style>

</body>

